apply plugin: 'com.android.library'
apply from: "$rootProject.projectDir/buildconfig/module.gradle"
apply plugin: 'com.jakewharton.butterknife'
apply plugin: 'io.hansel.preprocessor.module'

repositories {
    maven { url 'https://hansel.io/maven' }
}

buildscript {
    repositories {
        maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
        mavenCentral()
        jcenter()
        maven { url 'https://hansel.io/maven' }
    }
    dependencies {
        classpath('com.jakewharton:butterknife-gradle-plugin:9.0.0-SNAPSHOT') {
            exclude group: 'com.android.tools.build', module: 'gradle'
        }
        classpath rootProject.ext.miscDependencies.hansel
    }
}

project.ext {
    artifactId = 'digital'
    groupId = 'com.tokopedia.digital'
    versionName = "${tkpdDigitalVersion}"
    artifactName = "tkpddigital-release"
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])

    implementation project(rootProject.ext.features.core)
    implementation project(rootProject.ext.features.payment)
    implementation project(rootProject.ext.features.loyalty)
    implementation project(rootProject.ext.features.otp)
    implementation rootProject.ext.tkpdLibDependencies.youtubePlayer
    implementation project(rootProject.ext.libraries.youtubeutil)
    implementation project(rootProject.ext.features.nps)

    implementation project(rootProject.ext.libraries.graphql)
    implementation project(rootProject.ext.libraries.design)
    implementation project(rootProject.ext.libraries.abstraction)
    implementation project(rootProject.ext.libraries.useCase)
    implementation project(rootProject.ext.libraries.applink)
    implementation project(rootProject.ext.features.commonDigital)
    implementation project(rootProject.ext.libraries.network)
    implementation project(rootProject.ext.libraries.userSession)
    implementation project(rootProject.ext.libraries.config)

    implementation rootProject.ext.miscDependencies.lottie
    implementation rootProject.ext.miscDependencies.gson
    implementation rootProject.ext.miscDependencies.multiDex
    implementation rootProject.ext.miscDependencies.roundCornerProgressBar
    implementation(rootProject.ext.miscDependencies.loaderviewlibrary) {
        exclude group: 'com.android.support'
    }

    implementation 'com.android.support:support-v4:28.0.0'
    annotationProcessor rootProject.ext.dbDependencies.dbFlowProcessor
    implementation rootProject.ext.dbDependencies.dbFlowCore
    implementation rootProject.ext.dbDependencies.dbFlow

    implementation rootProject.ext.networkDependencies.glide

    implementation rootProject.ext.supportLibDependencies.constraintLayout

    implementation rootProject.ext.permissionDispatcherDependencies.permissionDispatcher
    annotationProcessor rootProject.ext.permissionDispatcherDependencies.permissionDispatcherProcessor

    implementation rootProject.ext.butterKnifeDependencies.butterKnife
    annotationProcessor rootProject.ext.butterKnifeDependencies.butterKnifeCompiler

    implementation rootProject.ext.deeplinkDispatchDependencies.deeplinkDispatch
    annotationProcessor rootProject.ext.deeplinkDispatchDependencies.deeplinkDispatchProcessor

    implementation rootProject.ext.playServicesDependencies.remoteConfig
    implementation rootProject.ext.playServicesDependencies.firebase
    implementation rootProject.ext.playServicesDependencies.maps
    implementation rootProject.ext.playServicesDependencies.analytics

    implementation rootProject.ext.viewDependencies.appIntro

    implementation(rootProject.ext.tkpdLibDependencies.showcase) {
        exclude group: "com.android.support"
    }

    implementation 'dnsjava:dnsjava:2.1.8'
    implementation('com.exotel:verification:0.2.0@aar') {
        transitive = true;
        changing = true;
        exclude group: 'com.google.code.gson', module: 'gson'
    }
}

apply from: '../../../publish_local.gradle'
