apply plugin: 'com.android.library'
apply from: "$rootProject.projectDir/buildconfig/kotlin/core-module.gradle"
apply from: "../../../compile-instrument-test.gradle"
apply plugin: 'io.hansel.preprocessor.module'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'

buildscript {
    repositories {
        mavenCentral()
        maven { url 'https://maven-hansel.tokopedia.com/maven' }
        jcenter()
        google()
    }
    dependencies {
        classpath rootProject.ext.miscDependencies.hansel
    }
}

android {
    def pathSources = "src/main/res/"
    sourceSets {
        main {
            res.srcDirs = [
                    pathSources
            ]
        }
    }
    androidExtensions {
        experimental = true
    }
    defaultConfig {
        multiDexEnabled true
    }
}

dependencies {

    implementation project(rootProject.ext.features.inboxCommon)
    implementation project(rootProject.ext.features.medialoader)
    implementation project(rootProject.ext.features.reputationCommon)
    implementation project(rootProject.ext.features.sellerMigrationCommon)

    implementation project(rootProject.ext.libraries.analytics)
    implementation project(rootProject.ext.libraries.applink)
    implementation project(rootProject.ext.libraries.baseList)
    implementation project(rootProject.ext.libraries.coreNetwork)
    implementation project(rootProject.ext.libraries.graphql)
    implementation project(rootProject.ext.libraries.imagePreviewSlider)
    implementation project(rootProject.ext.libraries.imagePreview)
    implementation project(rootProject.ext.libraries.kotlinExtensions)
    implementation project(rootProject.ext.libraries.track)
    implementation project(rootProject.ext.libraries.remoteConfig)
    implementation project(rootProject.ext.libraries.tkpdabstraction)
    implementation project(rootProject.ext.libraries.tkpddesign)

    implementation rootProject.ext.miscDependencies.coroutineCore
    implementation rootProject.ext.miscDependencies.coroutineAndroid
    implementation rootProject.ext.miscDependencies.dagger
    implementation rootProject.ext.miscDependencies.gson
    implementation rootProject.ext.miscDependencies.loaderviewlibrary
    implementation rootProject.ext.miscDependencies.rxAndroid
    implementation rootProject.ext.miscDependencies.rxJava
    implementation rootProject.ext.miscDependencies.viewPager2

    implementation rootProject.ext.networkDependencies.adapterRxJava
    implementation rootProject.ext.networkDependencies.converterGson
    implementation rootProject.ext.networkDependencies.glide
    implementation rootProject.ext.networkDependencies.retrofit

    implementation rootProject.ext.supportLibDependencies.recyclerViewV7
    implementation rootProject.ext.supportLibDependencies.constraintLayout
    implementation rootProject.ext.supportLibDependencies.design
    implementation rootProject.ext.supportLibDependencies.swipeRefresh

    implementation(rootProject.ext.firebase.crashlytics) {
        transitive = true
    }

    implementation(rootProject.ext.miscDependencies.facebook) {
        exclude group: 'com.android.support'
    }

    implementation rootProject.ext.tkpdInternalLibDependencies.analyticConstants
    implementation rootProject.ext.tkpdInternalLibDependencies.authentication
    implementation rootProject.ext.tkpdInternalLibDependencies.cachemanager
    implementation rootProject.ext.tkpdInternalLibDependencies.globalconfig
    implementation rootProject.ext.tkpdInternalLibDependencies.network
    implementation rootProject.ext.tkpdInternalLibDependencies.url
    implementation rootProject.ext.tkpdInternalLibDependencies.usecase
    implementation rootProject.ext.tkpdInternalLibDependencies.usersession

    implementation rootProject.ext.unifyDependencies.header
    implementation rootProject.ext.unifyDependencies.icons
    implementation rootProject.ext.unifyDependencies.principles
    implementation rootProject.ext.unifyDependencies.components

    testImplementation rootProject.ext.testDependencies.mockk
    testImplementation rootProject.ext.testDependencies.archCoreTesting
    testImplementation project(rootProject.ext.libraries.unitTest)

    kapt rootProject.ext.miscDependencies.daggerCompiler
    kapt rootProject.ext.tkpdInternalLibDependencies.gqlquery_annotation_processor
    compileOnly rootProject.ext.tkpdInternalLibDependencies.gqlquery_annotation
}

project.ext {
    artifactId = 'review_inbox'
    groupId = 'com.tokopedia.review.inbox'
    versionName = "0.0.1"
    artifactName = "review_inbox-release"
}

apply from: '../../../publish_local.gradle'
apply from: '../../../jacoco_task.gradle'
apply from: '../../../sonar_config.gradle'