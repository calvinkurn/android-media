apply plugin: 'com.android.library'
apply plugin: 'com.jakewharton.butterknife'
apply from: "$rootProject.projectDir/buildconfig/kotlin/module.gradle"
apply plugin: 'io.hansel.preprocessor.module'

repositories {
    maven { url 'https://hansel.io/maven' }
}
buildscript {
    repositories {
        maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
        mavenCentral()
        maven { url 'https://hansel.io/maven' }
    }
    dependencies {
        classpath ('com.jakewharton:butterknife-gradle-plugin:9.0.0-SNAPSHOT'){
            exclude group: 'com.android.tools.build', module: 'gradle'
        }
        classpath rootProject.ext.miscDependencies.hansel
    }
}

android {
    testOptions {
        unitTests {
            returnDefaultValues = true
            includeAndroidResources = true
        }
    }
}

project.ext {
    artifactId = 'tkpdpdp'
    groupId = 'com.tokopedia.tkpdpdp'
    versionName = "2.22"
    artifactName ="tkpdpdp-release"
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])

    implementation project(rootProject.ext.features.core)
    implementation project(rootProject.ext.libraries.design)
    implementation project(rootProject.ext.features.topAdsSourceTagging)
    implementation project(rootProject.ext.features.topAdsSdk)
    implementation project(rootProject.ext.features.affiliateCommon)
    implementation project(rootProject.ext.features.transactionanalytics)
    implementation project(rootProject.ext.features.goldMerchantResource)
    implementation project(rootProject.ext.features.wishlistCommon)
    implementation project(rootProject.ext.features.shopCommon)
    implementation project(rootProject.ext.features.productShare)
    implementation project(rootProject.ext.features.merchantVoucher)
    implementation project(rootProject.ext.features.gallery)

    implementation project(rootProject.ext.libraries.abstraction)
    implementation project(rootProject.ext.libraries.useCase)
    implementation project(rootProject.ext.libraries.applink)
    implementation project(rootProject.ext.libraries.graphql)
    implementation project(rootProject.ext.libraries.network)
    implementation project(rootProject.ext.libraries.userSession)
    implementation project(rootProject.ext.libraries.analytics)
    implementation project(rootProject.ext.libraries.remoteConfig)

    implementation rootProject.ext.tkpdLibDependencies.youtubePlayer
    
    implementation rootProject.ext.miscDependencies.dagger
    annotationProcessor rootProject.ext.miscDependencies.daggerCompiler

    implementation rootProject.ext.analyticsDependencies.appsflyer

    implementation rootProject.ext.playServicesDependencies.analytics
    implementation rootProject.ext.playServicesDependencies.appIndexing
    implementation rootProject.ext.playServicesDependencies.perfMon
    implementation rootProject.ext.playServicesDependencies.maps

    implementation rootProject.ext.viewDependencies.appIntro

    implementation rootProject.ext.networkDependencies.glide

    implementation rootProject.ext.miscDependencies.multiDex
    implementation (rootProject.ext.miscDependencies.loaderviewlibrary){
        exclude group: 'com.android.support'
    }
    implementation rootProject.ext.miscDependencies.roundCornerProgressBar

    testImplementation rootProject.ext.testDependencies.assertJ

    implementation rootProject.ext.permissionDispatcherDependencies.permissionDispatcher
    kapt  rootProject.ext.permissionDispatcherDependencies.permissionDispatcherProcessor

    implementation rootProject.ext.supportLibDependencies.constraintLayout

    implementation rootProject.ext.deeplinkDispatchDependencies.deeplinkDispatch
    kapt  rootProject.ext.deeplinkDispatchDependencies.deeplinkDispatchProcessor

    kapt  rootProject.ext.dbDependencies.dbFlowProcessor
    implementation rootProject.ext.dbDependencies.dbFlowCore
    implementation rootProject.ext.dbDependencies.dbFlow

    implementation rootProject.ext.miscDependencies.chips

    implementation(rootProject.ext.tkpdLibDependencies.showcase) {
        exclude group: "com.android.support"
    }

    implementation (rootProject.ext.debugToolsDependencies.chuck) {
        exclude group: 'com.squareup.okhttp3'
        exclude group: 'com.squareup.okio'
        exclude group: 'com.android.support'
    }

    implementation project(rootProject.ext.features.gallery)
    implementation project(rootProject.ext.libraries.core_legacy)
}

apply from: '../publish_local.gradle'