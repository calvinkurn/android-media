ext.projectOrAar = { moduleName ->
    project("$moduleName")
}

configurations.all {
    resolutionStrategy.dependencySubstitution {
        if (useAARForDevBuild) {
            inDevModules.each { moduleName ->
                try {
                    def nameTrim = moduleName
                    if (moduleName.startsWith(":")) {
                        nameTrim = moduleName.replaceFirst(":", "")
                    }
                    nameTrim = nameTrim.replace(":", "_")
                    substitute module("${rootProject.ext.localAARPublishConfig.groupId}:$nameTrim:${rootProject.ext.localAARPublishConfig.version}") with project(moduleName)
                } catch(Exception ex) {}
            }
        }
    }
}