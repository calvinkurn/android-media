apply plugin: 'java-library'
apply plugin: 'kotlin'
apply plugin: 'kotlin-kapt'

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"

    implementation rootProject.ext.supportLibDependencies.kotlinSupportJdk8
    implementation rootProject.ext.miscDependencies.kotlinPoet
    implementation rootProject.ext.miscDependencies.autoService
    implementation rootProject.ext.supportLibDependencies.kotlinReflection
    implementation rootProject.ext.miscDependencies.javaPoet
    implementation files("${System.getProperty('java.home')}/../lib/tools.jar")
    kapt rootProject.ext.miscDependencies.guava24
    implementation rootProject.ext.tkpdInternalLibDependencies.gqlquery_annotation

    compileOnly rootProject.ext.miscDependencies.incap
    kapt rootProject.ext.miscDependencies.incapProcessor
    kapt rootProject.ext.miscDependencies.autoService
}

sourceCompatibility = JavaVersion.VERSION_11
targetCompatibility = JavaVersion.VERSION_11

compileKotlin {
    kotlinOptions {
        jvmTarget = JavaVersion.VERSION_11
    }
}
compileTestKotlin {
    kotlinOptions {
        jvmTarget = JavaVersion.VERSION_11
    }
}

project.ext {
    artifactId = 'gqlquery_annotation_processor'
    groupId = 'com.tokopedia.gqlquery_annotation_processor'
    versionName = "0.0.24"
    artifactName = "gqlquery_annotation_processor"
}

apply from: '../publish_local.gradle'
