apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply from: "$rootProject.projectDir/buildconfig/kotlin/module.gradle"
apply plugin: 'io.hansel.preprocessor.module'


repositories {
    maven { url 'https://hansel.io/maven' }
}
buildscript {
    repositories {
        maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
        mavenCentral()
        jcenter()
        maven { url 'https://hansel.io/maven' }
    }
    dependencies {
        classpath rootProject.ext.miscDependencies.hansel
    }
}

project.ext {
    artifactId = 'discovery'
    groupId = 'com.tokopedia.discovery'
    versionName = "${tkpdDiscoveryVersion}"
    artifactName ="tkpddiscovery-release"
}


dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])

    implementation project(rootProject.ext.libraries.url)
    implementation project(rootProject.ext.libraries.core_legacy)

    implementation project(rootProject.ext.features.core)
    implementation project(rootProject.ext.features.topAdsSdk)
    implementation project(rootProject.ext.features.wishlistCommon)
    implementation project(rootProject.ext.features.goldMerchantResource)
    implementation project(rootProject.ext.features.shopCommon)
    implementation project(rootProject.ext.features.discoveryCommon)

    implementation project(rootProject.ext.libraries.applink)
    implementation rootProject.ext.tkpdInternalLibDependencies.usecase
    implementation project(rootProject.ext.libraries.linker)
    implementation project(rootProject.ext.libraries.network)
    implementation project(rootProject.ext.libraries.design)
    implementation project(rootProject.ext.libraries.imagePicker)
    implementation project(rootProject.ext.libraries.remoteConfig)
    implementation project(rootProject.ext.libraries.coreNetwork)
    implementation rootProject.ext.unifyDependencies.components

    implementation rootProject.ext.tkpdLibDependencies.youtubePlayer
    implementation project(rootProject.ext.libraries.cacheApi)
    implementation project(rootProject.ext.libraries.analytics)
    implementation project(rootProject.ext.libraries.graphql)
    implementation project(rootProject.ext.libraries.userSession)
    implementation project(rootProject.ext.libraries.abstraction)

    compileOnly rootProject.ext.miscDependencies.javaxAnnotation
    implementation rootProject.ext.miscDependencies.dagger
    annotationProcessor rootProject.ext.miscDependencies.daggerCompiler

    implementation rootProject.ext.tkpdLibDependencies.youtubePlayer

    implementation rootProject.ext.deeplinkDispatchDependencies.deeplinkDispatch
    kapt rootProject.ext.deeplinkDispatchDependencies.deeplinkDispatchProcessor

    implementation project(rootProject.ext.libraries.permissionchecker)

    implementation rootProject.ext.supportLibDependencies.constraintLayout

    implementation(rootProject.ext.tkpdLibDependencies.showcase) {
        exclude group: "com.android.support"
    }

    implementation rootProject.ext.viewDependencies.ahBottomNavigation
    implementation rootProject.ext.viewDependencies.appIntro

    implementation rootProject.ext.playServicesDependencies.analytics
    implementation rootProject.ext.playServicesDependencies.maps

    implementation rootProject.ext.networkDependencies.glide

    implementation rootProject.ext.miscDependencies.parcelerApi
    annotationProcessor rootProject.ext.miscDependencies.parceler
    implementation rootProject.ext.miscDependencies.roundCornerProgressBar
    implementation rootProject.ext.miscDependencies.multiDex
    implementation rootProject.ext.miscDependencies.gson
    implementation rootProject.ext.miscDependencies.apacheLang
    implementation rootProject.ext.dbDependencies.dbRoomRuntime
    annotationProcessor rootProject.ext.dbDependencies.dbRoomCompiler
    kapt rootProject.ext.dbDependencies.dbRoomCompiler
    implementation project(rootProject.ext.libraries.trackingOptimizer)
    implementation (rootProject.ext.miscDependencies.loaderviewlibrary){
        exclude group: 'com.android.support'
    }
    implementation rootProject.ext.miscDependencies.chips
    
    implementation project(rootProject.ext.libraries.track)

    implementation(rootProject.ext.debugToolsDependencies.chuck) {
        exclude group: 'com.squareup.okhttp3'
        exclude group: 'com.squareup.okio'
        exclude group: 'com.android.support'
    }
    implementation project(rootProject.ext.features.kolCommon)
    implementation rootProject.ext.unifyDependencies.principles
    implementation rootProject.ext.analyticsDependencies.appsflyer
}

apply from: '../publish_local.gradle'

